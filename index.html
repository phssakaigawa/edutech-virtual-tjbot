<!doctype html>
<html lang="en">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
    <meta charset="utf-8">

<title>Hello, Virtual TJBot</title>

<meta name="description" content="">
<meta name="author" content="">
<meta name="generator" content="reveal-ck 3.9.2">



<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

<link rel="stylesheet" href="css/reveal.css">
<link rel="stylesheet" href="css/theme/simple.css" id="theme">

<!-- Code syntax highlighting -->
<link rel="stylesheet" href="lib/css/zenburn.css">

<link rel="stylesheet" href="css/reveal-ck.css">


<!-- Printing and PDF exports -->
<script>
  var link = document.createElement( 'link' );
  link.rel = 'stylesheet';
  link.type = 'text/css';
  link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
  document.getElementsByTagName( 'head' )[0].appendChild( link );
</script>

<!--[if lt IE 9]>
<script src="lib/js/html5shiv.js"></script>
<![endif]-->

  </head>

  <body>
    <div class="reveal">
  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">
    <section>

<h1>Hello, Virtual TJBot</h1>

<p>BMXUG TJBotFan<br>
(IBM Cloud Community)</p>

<p>IBM Champion</p>

<p>Shoichiro Sakaigawa / @l_s_s_l</p>

</section>
<section>

<h2>Whoami</h2>

<p>Shoichiro Sakaigawa</p>

<p>IBMChampion Cloud 2018-2020</p>

<p>Pumpkin Heads 株式会社代表取締役</p>

<p>著書：</p>

<p>コンテナ・ベース・オーケストレーション<br>
Docker/Kubernetes で作るクラウド時代のシステム基盤<br><br>
第 7 章 Kubernetes on IBM Cloud Container Service<br>
（共著 第７章 Kubernetes Service、翔泳社）</p>

</section>
<section>

<h2>Whoami</h2>

<p>寄稿：</p>

<p>月刊 I/O 2019 年 3 月号</p>

<p>「＜ Node-RED ＞　「AWS IoT ボタン」を用いて「お知らせ機能」を作る」</p>

<p>@IT IBMChampion 連載記事</p>

<p>「もっとスケーラブルな WordPress 実装を Kubernetes クラスター上にデプロイする」</p>

<p><a href="https://www.atmarkit.co.jp/ait/articles/1905/19/news002.html">https://www.atmarkit.co.jp/ait/articles/1905/19/news002.html</a></p>

</section>
<section>

<h3>What’s IBM Champion?</h3>

<p>IBM の US 本社が世界で活躍するエンジニアの活動実績を表彰・認定する制度<br>
コミュニティ活動、登壇、執筆などの実績を申請することで獲得することができます。</p>

<p>受賞後は IBM の公式外部エヴァンジェリストとして活動を行う事ができます。</p>

<p>受賞者限定グッズやイベント優待などがあります。</p>

</section>
<section>

<h1>What’s Node-RED</h1>

<p>IBM 英国 Hursley 研究所のメンバーを中心に開発された、ハードウェアデバイス、API、オンラインサービスを連携させることができる開発用ツールです。</p>

<p>ブラウザベースのエディタから多種多様なノードを結びつけて容易にフローを作成できます。</p>

</section>
<section>

<h1>用語解説</h1>

</section>
<section>

<h3>ノード</h3>

<p>予め機能が登録された部品。</p>

<p>自分でこのノードを Node.js を始めプログラミングして、公開することも可能。</p>

</section>
<section>

<h3>フロー</h3>

<p>プログラムの流れを「フロー」として「フローエディタ」と呼ばれる編集画面に<br>
使いたい部品（ノード）を並べて、線で結ぶことでプログラムを作ることができます。</p>

</section>
<section>

<h1>What’s Virtual TJBot</h1>

<p>物理の TJBot を手に入れる前に試したい・実機ハンズオンで TJBot は無いけど同等のコマンドが試せないかということで<br>
Node-RED のフローエディタ上で動作する Virtual TJBot を紹介します。</p>

</section>
<section>

<p>このプレゼンテーションでは、Node-RED の構築から Virtual TJBot の設定までを自動的に行うことができる<code>Virutal-TJBot-Starter</code>というパッケージを利用します。</p>

<h3><a href="https://bit.ly/virtualTJBot">https://bit.ly/virtualTJBot</a></h3>

</section>
<section>

<h2>どうやって動いているの？</h2>

<p>Virtual TJBot は、Node-RED の Virutal TJBot ノードを利用して稼働しています。</p>

<p>ここで紹介するのは IBM Cloud 上の Cloud Foundry Node.js サービスを利用した Node-RED のプラットフォーム上へ自動設定を行う方法です。</p>

<p>この設定自動化によりどなたでもかんたんにハンズオン同等の環境を構築することが可能となります。</p>

</section>
<section>

<h2>前提条件</h2>

<ul>
  <li>IBM Cloud ライトアカウントもしくはそれ以上が必要</li>
  <li>過去に Node-RED を IBM Cloud で立ち上げたことが無いこと
    <ul>
      <li>このハンズオン中に過去 Node-RED を動かしたことがある方は個別にご相談ください</li>
    </ul>
  </li>
  <li>PC からアクセスすること
    <ul>
      <li>設定完了後はお好きな Node-RED のフローエディタが動けばどこでも問題ありません</li>
    </ul>
  </li>
</ul>

</section>
<section>

<h2>設定方法</h2>

<p>１. Virtual TJBot Starter Application のページへアクセスする</p>

<p><a href="https://bit.ly/virtualTJBot">https://bit.ly/virtualTJBot</a></p>

<p><img src="./img/ch08/ch08-virtualTJBot-01.png" alt=""></p>

</section>
<section>

<p>２． <code>Deploy to IBM Cloud</code>ボタンをクリックする</p>

<p>３． IBM Cloud へログインしていない場合はここでログインを行う</p>

<p><img src="./img/ch08/ch08-virtualTJBot-02.png" alt=""></p>

</section>
<section>

<p>４． IBM Cloud へのセットアップ画面になります。<br>
ツールチェーン名などは、今回デフォルトのまま進みます。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-03.png" alt=""></p>

</section>
<section>

<p>※Note：<br>
ツールチェーンとは、git や Delivery Pipeline という設定自動化を行う CI/CD ツールが動くようセットアップされるグループをさします。<br>
IBM Cloud ツールチェーンは、DevOps 項目から利用ができ、PaaS 環境のセットアップや kubernetes 環境へのアプリケーション配布などができる仕組みです。</p>

</section>
<section>

<p>５． 必須設定項目の<code>Delivery Pipeline</code>をクリックします。</p>

<p>６． <code>IBM Cloud APIキー：</code>と書かれた項目が現在空欄となっています。<br>
この項目はみなさんの IBM Cloud カウントそれぞれに紐づく内容のため、<br>
<code>作成</code>ボタンをクリックして生成します。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-04.png" alt=""></p>

</section>
<section>

<p>７． API キーを新規作成するにあたり警告が表示されます。<br>
この手順ではクラウドのサービスを自動的に作成する権限を持つ API キー（合言葉）を作成・登録することになります。<br>
細かくこの合言葉に対して許可する範囲を IAM という機能で設定が可能です。<br>
今回は自動的に IBM Cloud のサービスを一部作成するため、<br>
このまま<code>作成</code>をクリックします。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-05.png" alt=""></p>

</section>
<section>

<p>８． <code>IBM Cloud APIキー:</code>の項目、<code>リージョン</code>、<code>組織</code>、<code>スペース</code>が埋まったことを確認して、画面上部の<code>作成</code>をクリックします</p>

<p><img src="./img/ch08/ch08-virtualTJBot-06.png" alt=""></p>

</section>
<section>

<p>９．これで Virtual TJBot を起動する準備ができました。<br>
画面中央の<code>Delivery Pipeline</code>をクリックして完了状態を確認しましょう。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-07.png" alt=""></p>

</section>
<section>

<h2>失敗してしまった</h2>

</section>
<section>

<p>１０． 失敗してしまう場合は・・・</p>

<p>Deploy の項目にある再生ボタンをクリックします。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-08.png" alt=""></p>

</section>
<section>

<p>※失敗する理由：</p>

<p>さまざまな理由が考えられますが、IBM Cloud 内での処理プロセスのなかでタイムアウトなどが起こりエラーが発生する場合があります。３回ほど試しても進まない場合は、スタッフへご相談ください</p>

</section>
<section>

<p>１１． 設定の完了<br>
Deploy の項目が緑になり、<code>ステージは成功</code>となったら完了です。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-09.png" alt=""></p>

<p>１２． ブラウザの戻るボタンで戻り、画面上部の<code>アプリURLにアクセス</code>をクリックします。</p>

</section>
<section>

<p>１３． Node-RED の初期ウィザードが表示されます。<code>Next</code>をクリックします。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-10.png" alt=""></p>

</section>
<section>

<p>１４． Node-RED のフローエディタをアクセスする際に必要な Username と Password を決めて、<code>Next</code>をクリックします。<br><br>
※チェックボックスにチェックを入れると、フローエディタを読み取り専用で開くことができるようになります。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-11.png" alt=""></p>

</section>
<section>

<p>１５． <code>Next</code>をクリックします</p>

<p>ここでは詳細を説明しませんが、アプリケーション稼働状況（CPU/メモリなど）を表示する場合は URL を控えてチェックをオンにします。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-12.png" alt=""></p>

</section>
<section>

<p>１６． IBM Cloud と Node-RED を組み合わせて使うにあたり便利な Node の紹介です。<br>
ここでは何もせず<code>Next</code>をクリックします</p>

<p><img src="./img/ch08/ch08-virtualTJBot-13.png" alt=""></p>

</section>
<section>

<p>１７． <code>Finish</code>をクリックしてインストールの完了です。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-14.png" alt=""></p>

</section>
<section>

<h2>操作編</h2>

</section>
<section>

<p>１． 設定作業が完了すると、ログイン手前の画面が表示されます。<br>
この画面がログイン URL になるので、適宜ブックマークなどしておくと良いでしょう。<br>
<code>Go to your Node-RED flow editor</code>ボタンをクリックして進みます。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-use-01.png" alt=""></p>

</section>
<section>

<p>２．設定編で設定した Username と Password を入力して<code>ログイン</code>をクリックします。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-use-02.png" alt=""></p>

</section>
<section>

<p>３．フローエディタが表示されます。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-use-03.png" alt=""></p>

</section>
<section>

<p>４．Virtual TJBot のパネルを開きます。<br>
画面右上の ▼ 記号をクリックして、Virtual TJBot をクリックします。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-use-04.png" alt=""></p>

</section>
<section>

<p>５．Sample タブの<code>(2) Blink LED</code>のフローが自動で起動して、色が順番に変わっていきます。</p>

<p><img src="./img/ch08/ch08-virtualTJBot-use-05.png" alt=""></p>

</section>
<section>

<h2>Virtual TJBot と物理の TJBot との違い</h2>

<p>ここまでで Virtual TJBot の起動について紹介しました。</p>

<p>TJBotFan のハンズオンで使用されている Node-RED フローが、<br>
Virtual TJBot 版に移植されています。</p>

<p>ここでは、物理の TJBot で実現していたものを、<br>
Virtual TJBot ではどのように置き換えをしているのか差分を紹介します。</p>

</section>
<section>

<h3>ハンズオンフローの対比表</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">物理版</th>
      <th style="text-align: left">VirtualTJBot</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">IP アドレスをしゃべる</td>
      <td style="text-align: left">廃止</td>
    </tr>
    <tr>
      <td style="text-align: left">カメラで人物判定</td>
      <td style="text-align: left">opencv 機能から、Watson VisualRecognition に変更</td>
    </tr>
  </tbody>
</table>

</section>
<section>

<h3>ノードの対比表</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: left">物理版</th>
      <th style="text-align: left">VirtualTJBot</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">take photo node</td>
      <td style="text-align: left">see ノードを組み合わせたフローに変更(ブラウザから Web カメラを使用)</td>
    </tr>
    <tr>
      <td style="text-align: left">control led(GPIO)</td>
      <td style="text-align: left">shine ノードに変更（Virtual TJBot タブで頭が光る)</td>
    </tr>
    <tr>
      <td style="text-align: left">control arm(GPIO)</td>
      <td style="text-align: left">wave ノードに変更（Virtual TJBot タブで手を振る）</td>
    </tr>
    <tr>
      <td style="text-align: left">open jtalk</td>
      <td style="text-align: left">Play audio に変更(端末 OS の音声合成機能に依存)</td>
    </tr>
  </tbody>
</table>

</section>
<section>

<h2>ここまでで Virtual TJBot のセットアップと說明は終了です</h2>

<h2>ぜひ TJBot とクラウドを組み合わせて遊んでみてください</h2>

</section>
<section>

<p>参考： TJBot の操作</p>

<p>Qiita 記事)自作 AI ロボット TJBot Zero で遊んでみる</p>

<p><a href="https://qiita.com/zuhito/items/cd9d8cfefab1fbacaf69">https://qiita.com/zuhito/items/cd9d8cfefab1fbacaf69</a></p>

</section>
<section>

<p>参考： TJBot を Watson Assistant で会話する</p>

<p>スマートスピーカーはこういったフローの積み重ねで作られています</p>

<p>Qiita 記事)TJBot zero と会話しよう！<br>
<a href="https://qiita.com/Shibu-Shin/items/954f4693d3009f854395">https://qiita.com/Shibu-Shin/items/954f4693d3009f854395</a></p>

</section>
<section>

<h2>告知 1</h2>

<h3>TJBotFAN グループ：</h3>

<h3><a href="https://tjbotfan.tokyo">https://tjbotfan.tokyo</a></h3>

<p>Facebook / Twitter なども ↑ から</p>

</section>
<section>

<h2>告知 2</h2>

<h3>技術書典８ Day2に出展します。</h3>

<p>TJBotのデモや書籍の販売を行います。</p>

<p><img src="./img/techbookfest8.jpg" height="300"></p>

</section>
<section>

<h2>Thanks! <br> have a fun TJBot!!</h2>

<p><img src="img/ch08/tjbot.png" alt=""></p>

</section>

  </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>


<script>
  (function() {
  function extend( a, b ) {
    for(var i in b) {
      a[i] = b[i];
    }
  }
  var baseOptions = {
    transition: 'slide',

    dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true },
      { src: 'plugin/notes/notes.js', async: true }
    ]
  };

  

  var configOptions = {"controls":true,"progress":true,"history":true,"center":true}
  var initializeOptions = {};
  extend(initializeOptions, baseOptions);
  extend(initializeOptions, configOptions);
  Reveal.initialize(initializeOptions);
})();

</script>

  </body>
</html>
